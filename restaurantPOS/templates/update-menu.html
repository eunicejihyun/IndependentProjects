{% block content %}
{% include "header.html" %}
{% set field_size = 30 %}

<div class="container">
    <div class="row main-row">

        <!--MENU-->
        <div class="col-md-7 left-side">
            {% include "menu.html" %}
        </div>

        <!--RIGHT SIDE-->
        <div class="col-md-5 right-side">
            {% include "navbar.html" %}


            <!--CONTENT-->
            <h1 class="right-heading">
                SETTINGS
                <span class="right-subheading">Add/Edit Items</span>
            </h1>

            <div class="item-form">

                {% if 'update' in url_for(request.endpoint): %}
                <form action="{{ url_for('add_item') }}" method="POST" novalidate>

                    {% else: %}
                    {% set id = request.args.get("item_id") %}
                    <form action="{{ url_for('edit_menu_item', item_id=id) }}" method="POST" novalidate>
                        {% endif %}

                        {{ form.csrf_token }}
                        <table>
                            <tr>
                                <td class="form-label">Item Name</td>
                                <td class="form-field">
                                    {{ form.name(size=field_size) }}
                                </td>
                            </tr>
                            <tr>
                                <td class="form-label">Price</td>
                                <td class="form-field">
                                    {{ form.price(size=field_size) }}
                                </td>
                            </tr>
                            <tr>
                                <td class="form-label">Category</td>
                                <td class="form-field">
                                    {{ form.category() }}
                                </td>
                            </tr>
                            <tr>
                                <td class="form-label">Section</td>
                                <td class="form-field">
                                    {{ form.section() }}
                                </td>
                            </tr>
                            <tr>
                                <td class="form-label">Description</td>
                                <td class="form-field">
                                    {{ form.description(size=field_size) }}
                                </td>
                            </tr>

                            <tr>
                                <td class="form-field">
                                    {{ form.type1(size=field_size, placeholder='i.e. Flavor') }}
                                </td>
                                <td class="form-field">
                                    {{ form.variation1(size=field_size, placeholder='i.e. Coffee, Matcha') }}
                                </td>
                            </tr>
                            <tr>
                                <td class="form-field">
                                    {{ form.type2(size=field_size, placeholder='i.e. Sweetness') }}
                                </td>
                                <td class="form-field">
                                    {{ form.variation2(size=field_size, placeholder='i.e. Lightly Sweet, Sweet, Very Sweet') }}
                                </td>
                            </tr>
                            <tr>
                                <td class="form-field">
                                    {{ form.type3(size=field_size, placeholder='i.e. Sides') }}
                                </td>
                                <td class="form-field">
                                    {{ form.variation3(size=field_size, placeholder='i.e. Ketchup, Mustard') }}
                                </td>
                            </tr>

                            <tr>
                                <td></td>
                                <td>
                                    <!--SUBMIT BUTTON-->
                                    {{ form.submit }}
                                </td>
                            </tr>

                            <tr>
                                <td></td>
                                <td>

                                    {% for err in form.name.errors %}
                                    <p class="form-error-msg">Item Name - {{ err }}</p>
                                    {% endfor %}
                                    {% for err in form.price.errors %}
                                    <p class="form-error-msg">Price - {{ err }}</p>
                                    {% endfor %}
                                    {% for err in form.category.errors %}
                                    <p class="form-error-msg">Category - {{ err }}</p>
                                    {% endfor %}
                                    {% for err in form.section.errors %}
                                    <p class="form-error-msg">Section - {{ err }}</p>
                                    {% endfor %}
                                    {% for err in form.description.errors %}
                                    <p class="form-error-msg">Description - {{ err }}</p>
                                    {% endfor %}
                                    <!--FLASH MESSAGES-->
                                    {% with messages = get_flashed_messages() %}
                                    {% if messages %}
                                    <span class="flashes">
                                        {% for message in messages %}
                                        <p class="flash-msg">{{ message }}</p>
                                        {% endfor %}
                                    </span>
                                    {% endif %}
                                    {% endwith %}
                                    <!-- END FLASH MESSAGES-->
                                </td>
                            </tr>

                        </table>
                    </form>

            </div>

            <a class="next-page" href="{{ url_for('start_order') }}">
                <button class="btn next-btn" type="button">
                    Create Order
                    <i class="fas fa-angle-double-right"></i>
                </button>
            </a>
            <!--END CONTENT-->


        </div>
    </div>
</div>
{% endblock %}